<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiologyBot - Tr·ª£ l√Ω Sinh h·ªçc th√¥ng minh</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #66ea73 0%, #5ca24b 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .chat-container {
            width: 100%;
            max-width: 900px;
            height: 700px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .chat-header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 20px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .chat-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .chat-header h1 {
            font-size: 2.2em;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .chat-header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .chat-messages {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
        }

        .message {
            margin-bottom: 20px;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            text-align: right;
        }

        .message.bot {
            text-align: left;
        }

        .message-content {
            display: inline-block;
            max-width: 80%;
            padding: 15px 20px;
            border-radius: 18px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message.bot .message-content {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            border-bottom-left-radius: 5px;
        }

        .chat-input-container {
            padding: 25px 30px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .chat-input:focus {
            border-color: #4CAF50;
            background: white;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        .send-button {
            padding: 15px 25px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .send-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .send-button:active {
            transform: translateY(0);
        }

        .typing-indicator {
            display: none;
            padding: 15px 20px;
            background: white;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-width: 80px;
            margin-bottom: 20px;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            width: 8px;
            height: 8px;
            background: #4CAF50;
            border-radius: 50%;
            animation: typing 1.5s infinite;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.4;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        .welcome-message {
            text-align: center;
            color: #666;
            font-style: italic;
            margin: 50px 0;
        }

        .topic-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
        }

        .topic-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border: 1px solid #2196f3;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            color: #1976d2;
            transition: all 0.3s ease;
        }

        .topic-btn:hover {
            background: linear-gradient(135deg, #2196f3, #1976d2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: #4CAF50;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #45a049;
        }

        @media (max-width: 768px) {
            .chat-container {
                height: 90vh;
                margin: 10px;
            }
            
            .chat-header h1 {
                font-size: 1.8em;
            }
            
            .message-content {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>üß¨ BiologyBot</h1>
            <p>Tr·ª£ l√Ω sinh h·ªçc th√¥ng minh - Chuy√™n gia ki·∫øn th·ª©c sinh h·ªçc c∆° b·∫£n</p>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="welcome-message">
                <h3>Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi BiologyBot! üåø</h3>
                <p>T√¥i l√† tr·ª£ l√Ω AI chuy√™n v·ªÅ sinh h·ªçc ph·ªï th√¥ng. H√£y h·ªèi t√¥i b·∫•t k·ª≥ c√¢u h·ªèi n√†o v·ªÅ:</p>
                <div class="topic-suggestions">
                    <div class="topic-btn" onclick="askQuestion('C√¢y c·∫ßn g√¨ ƒë·ªÉ s·ªëng?')">C√¢y c·∫ßn g√¨ ƒë·ªÉ s·ªëng</div>
                    <div class="topic-btn" onclick="askQuestion('ƒê·ªông v·∫≠t ƒÉn g√¨?')">ƒê·ªông v·∫≠t ƒÉn g√¨</div>
                    <div class="topic-btn" onclick="askQuestion('C√°c b·ªô ph·∫≠n c∆° th·ªÉ ng∆∞·ªùi')">C∆° th·ªÉ ng∆∞·ªùi</div>
                    <!-- Ki·∫øn th·ª©c THCS -->
                    <div class="topic-btn" onclick="askQuestion('H·ªá tu·∫ßn ho√†n l√† g√¨?')">H·ªá tu·∫ßn ho√†n</div>
                    <div class="topic-btn" onclick="askQuestion('Qu√° tr√¨nh ti√™u h√≥a')">Ti√™u h√≥a</div>
                    <div class="topic-btn" onclick="askQuestion('Sinh s·∫£n ·ªü th·ª±c v·∫≠t')">Sinh s·∫£n th·ª±c v·∫≠t</div>
                    <!-- Ki·∫øn th·ª©c THPT -->
                    <div class="topic-btn" onclick="askQuestion('Th·∫ø n√†o l√† qu√° tr√¨nh nguy√™n ph√¢n?')">Nguy√™n ph√¢n</div>
                    <div class="topic-btn" onclick="askQuestion('Gi·∫£i th√≠ch v·ªÅ ƒë·ªãnh lu·∫≠t Mendel')">ƒê·ªãnh lu·∫≠t Mendel</div>
                    <div class="topic-btn" onclick="askQuestion('ADN v√† ARN kh√°c nhau nh∆∞ th·∫ø n√†o?')">ADN & ARN</div>
                    <div class="topic-btn" onclick="askQuestion('Qu√° tr√¨nh h√¥ h·∫•p t·∫ø b√†o')">H√¥ h·∫•p t·∫ø b√†o</div>
                    <div class="topic-btn" onclick="askQuestion('Th·∫ø n√†o l√† quang h·ª£p?')">Quang h·ª£p</div>
                    <div class="topic-btn" onclick="askQuestion('Gi·∫£i th√≠ch v·ªÅ ti·∫øn h√≥a')">Ti·∫øn h√≥a</div>
                </div>
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
        
        <div class="chat-input-container">
            <input type="text" class="chat-input" id="chatInput" placeholder="H√£y h·ªèi t√¥i v·ªÅ ki·∫øn th·ª©c sinh h·ªçc t·ª´ l·ªõp 1 ƒë·∫øn l·ªõp 12..." onkeypress="handleKeyPress(event)">
            <button class="send-button" onclick="sendMessage()">G·ª≠i</button>
        </div>
    </div>

    <script>
        const biologyKnowledge = {
            // ===== KI·∫æN TH·ª®C TI·ªÇU H·ªåC (L·ªöP 1-5) =====
            
            // L·ªõp 1-2: Nh·∫≠n bi·∫øt c∆° b·∫£n
            "c√¢y": "C√¢y l√† sinh v·∫≠t s·ªëng. C√¢y c·∫ßn n∆∞·ªõc, √°nh n·∫Øng, kh√¥ng kh√≠ v√† ƒë·∫•t ƒë·ªÉ s·ªëng. C√¢y c√≥ r·ªÖ, th√¢n, l√°, hoa v√† qu·∫£. C√¢y cho ch√∫ng ta kh√¥ng kh√≠ trong l√†nh v√† th·ª±c ph·∫©m.",
            
            "ƒë·ªông v·∫≠t": "ƒê·ªông v·∫≠t l√† sinh v·∫≠t s·ªëng c√≥ th·ªÉ di chuy·ªÉn. C√≥ ƒë·ªông v·∫≠t hoang d√£ v√† ƒë·ªông v·∫≠t nu√¥i. ƒê·ªông v·∫≠t c·∫ßn th·ª©c ƒÉn, n∆∞·ªõc, kh√¥ng kh√≠ v√† ch·ªó ·ªü ƒë·ªÉ s·ªëng.",
            
            "c∆° th·ªÉ": "C∆° th·ªÉ ng∆∞·ªùi c√≥ nhi·ªÅu b·ªô ph·∫≠n: ƒë·∫ßu, c·ªï, th√¢n, tay, ch√¢n. Ch√∫ng ta c√≥ 5 gi√°c quan: m·∫Øt (nh√¨n), tai (nghe), m≈©i (ng·ª≠i), mi·ªáng (n·∫øm), da (s·ªù).",
            
            // L·ªõp 3-4: Hi·ªÉu bi·∫øt s√¢u h∆°n
            "sinh v·∫≠t": "Sinh v·∫≠t g·ªìm th·ª±c v·∫≠t v√† ƒë·ªông v·∫≠t. ƒê·∫∑c ƒëi·ªÉm chung: sinh tr∆∞·ªüng, sinh s·∫£n, c·∫ßn dinh d∆∞·ª°ng, th√≠ch ·ª©ng v·ªõi m√¥i tr∆∞·ªùng. Sinh v·∫≠t s·ªëng ph·ª• thu·ªôc l·∫´n nhau.",
            
            "th·ª±c v·∫≠t": "Th·ª±c v·∫≠t g·ªìm c√¢y g·ªó, c√¢y b·ª•i, c√¢y th·∫£o. B·ªô ph·∫≠n: r·ªÖ (h√∫t n∆∞·ªõc), th√¢n (d·∫´n truy·ªÅn), l√° (quang h·ª£p), hoa (sinh s·∫£n), qu·∫£ (b·∫£o v·ªá h·∫°t).",
            
            "m√¥i tr∆∞·ªùng": "M√¥i tr∆∞·ªùng s·ªëng c·ªßa sinh v·∫≠t g·ªìm: n∆∞·ªõc, ƒë·∫•t, kh√¥ng kh√≠, √°nh s√°ng. Sinh v·∫≠t th√≠ch ·ª©ng v·ªõi m√¥i tr∆∞·ªùng ƒë·ªÉ t·ªìn t·∫°i. Con ng∆∞·ªùi c·∫ßn b·∫£o v·ªá m√¥i tr∆∞·ªùng.",
            
            // L·ªõp 5: Ki·∫øn th·ª©c t·ªïng h·ª£p
            "dinh d∆∞·ª°ng": "Sinh v·∫≠t c·∫ßn dinh d∆∞·ª°ng ƒë·ªÉ s·ªëng. Th·ª±c v·∫≠t t·ª± t·∫°o th·ª©c ƒÉn b·∫±ng quang h·ª£p. ƒê·ªông v·∫≠t ƒÉn th·ª±c v·∫≠t ho·∫∑c ƒë·ªông v·∫≠t kh√°c. Chu·ªói th·ª©c ƒÉn: th·ª±c v·∫≠t ‚Üí ƒë·ªông v·∫≠t ƒÉn c·ªè ‚Üí ƒë·ªông v·∫≠t ƒÉn th·ªãt.",
            
            "sinh s·∫£n": "Sinh v·∫≠t sinh s·∫£n ƒë·ªÉ t·∫°o ra th·∫ø h·ªá m·ªõi. Th·ª±c v·∫≠t: t·ª´ h·∫°t n·∫£y m·∫ßm th√†nh c√¢y con. ƒê·ªông v·∫≠t: ƒë·∫ª tr·ª©ng ho·∫∑c ƒë·∫ª con. Con ng∆∞·ªùi sinh con ƒë·ªÉ duy tr√¨ n√≤i gi·ªëng.",
            
            // ===== KI·∫æN TH·ª®C TRUNG H·ªåC C∆† S·ªû (L·ªöP 6-9) =====
            
            // L·ªõp 6: Sinh h·ªçc c∆° b·∫£n
            "t·∫ø b√†o c∆° b·∫£n": "T·∫•t c·∫£ sinh v·∫≠t ƒë·ªÅu ƒë∆∞·ª£c t·∫°o th√†nh t·ª´ t·∫ø b√†o. T·∫ø b√†o l√† ƒë∆°n v·ªã nh·ªè nh·∫•t c·ªßa s·ª± s·ªëng. T·∫ø b√†o th·ª±c v·∫≠t c√≥ v√°ch t·∫ø b√†o, t·∫ø b√†o ƒë·ªông v·∫≠t kh√¥ng c√≥.",
            
            "quang h·ª£p c∆° b·∫£n": "Quang h·ª£p l√† qu√° tr√¨nh c√¢y xanh d√πng √°nh s√°ng m·∫∑t tr·ªùi, n∆∞·ªõc v√† kh√≠ CO2 ƒë·ªÉ t·∫°o ra th·ª©c ƒÉn (ƒë∆∞·ªùng) v√† kh√≠ O2. Di·ªÖn ra ·ªü l√° c√¢y.",
            
            // L·ªõp 7: Sinh h·ªçc th·ª±c v·∫≠t
            "r·ªÖ": "R·ªÖ c√≥ ch·ª©c nƒÉng: h√∫t n∆∞·ªõc v√† mu·ªëi kho√°ng t·ª´ ƒë·∫•t, gi·ªØ c√¢y v·ªØng tr√™n ƒë·∫•t, t√≠ch tr·ªØ ch·∫•t dinh d∆∞·ª°ng. C√≥ 2 lo·∫°i: r·ªÖ ch√≠nh (c√† r√≥t) v√† r·ªÖ ch√πm (l√∫a).",
            
            "th√¢n": "Th√¢n c√≥ ch·ª©c nƒÉng: ƒë·ª° l√° v√† hoa qu·∫£, d·∫´n truy·ªÅn n∆∞·ªõc v√† ch·∫•t dinh d∆∞·ª°ng, t√≠ch tr·ªØ ch·∫•t dinh d∆∞·ª°ng. G·ªìm th√¢n th·∫£o v√† th√¢n g·ªó.",
            
            "l√°": "L√° c√≥ ch·ª©c nƒÉng ch√≠nh l√† quang h·ª£p. C·∫•u t·∫°o: phi·∫øn l√°, cu·ªëng l√°, g√¢n l√°. Kh√≠ kh·ªïng gi√∫p trao ƒë·ªïi kh√≠ v√† tho√°t h∆°i n∆∞·ªõc.",
            
            "hoa": "Hoa l√† c∆° quan sinh s·∫£n c·ªßa th·ª±c v·∫≠t. C·∫•u t·∫°o: ƒë√†i hoa, tr√†ng hoa, nh·ªã ƒë·ª±c, nh·ªã c√°i. Qu√° tr√¨nh: th·ª• ph·∫•n ‚Üí th·ª• tinh ‚Üí t·∫°o h·∫°t.",
            
            // L·ªõp 8: Sinh h·ªçc ƒë·ªông v·∫≠t
            "ti√™u h√≥a": "H·ªá ti√™u h√≥a g·ªìm: mi·ªáng, th·ª±c qu·∫£n, d·∫° d√†y, ru·ªôt non, ru·ªôt gi√†. Ch·ª©c nƒÉng: nghi·ªÅn n√°t, ti√™u h√≥a th·ª©c ƒÉn th√†nh ch·∫•t dinh d∆∞·ª°ng h·∫•p th·ª• v√†o m√°u.",
            
            "tu·∫ßn ho√†n": "H·ªá tu·∫ßn ho√†n g·ªìm tim v√† m·∫°ch m√°u. Tim b∆°m m√°u ƒëi kh·∫Øp c∆° th·ªÉ. M√°u v·∫≠n chuy·ªÉn O2, CO2, ch·∫•t dinh d∆∞·ª°ng v√† ch·∫•t th·∫£i.",
            
            "h√¥ h·∫•p": "H·ªá h√¥ h·∫•p g·ªìm: m≈©i, h·ªçng, kh√≠ qu·∫£n, ph·∫ø qu·∫£n, ph·ªïi. Ch·ª©c nƒÉng: trao ƒë·ªïi kh√≠ O2 v√† CO2 gi·ªØa c∆° th·ªÉ v√† m√¥i tr∆∞·ªùng.",
            
            "b√†i ti·∫øt": "H·ªá b√†i ti·∫øt g·ªìm: th·∫≠n, ni·ªáu qu·∫£n, b√†ng quang, ni·ªáu ƒë·∫°o. Ch·ª©c nƒÉng lo·∫°i b·ªè ch·∫•t th·∫£i ra kh·ªèi c∆° th·ªÉ, ƒëi·ªÅu h√≤a n∆∞·ªõc v√† mu·ªëi.",
            
            // L·ªõp 9: Sinh h·ªçc t·ªïng h·ª£p
            "sinh th√°i c∆° b·∫£n": "Sinh th√°i h·ªçc nghi√™n c·ª©u m·ªëi quan h·ªá gi·ªØa sinh v·∫≠t v·ªõi nhau v√† v·ªõi m√¥i tr∆∞·ªùng. Chu·ªói th·ª©c ƒÉn, l∆∞·ªõi th·ª©c ƒÉn, c√¢n b·∫±ng sinh th√°i.",
            
            "b·∫£o v·ªá m√¥i tr∆∞·ªùng": "Con ng∆∞·ªùi c·∫ßn b·∫£o v·ªá m√¥i tr∆∞·ªùng b·∫±ng c√°ch: kh√¥ng x·∫£ r√°c, ti·∫øt ki·ªám n∆∞·ªõc ƒëi·ªán, tr·ªìng c√¢y xanh, kh√¥ng sƒÉn b·∫Øt ƒë·ªông v·∫≠t qu√Ω hi·∫øm.",
            
            // ===== KI·∫æN TH·ª®C TRUNG H·ªåC PH·ªî TH√îNG (L·ªöP 10-12) =====
            
            // L·ªõp 10: T·∫ø b√†o h·ªçc v√† sinh l√Ω
            "t·∫ø b√†o": "T·∫ø b√†o l√† ƒë∆°n v·ªã c∆° b·∫£n c·ªßa s·ª± s·ªëng. C√≥ hai lo·∫°i t·∫ø b√†o ch√≠nh: t·∫ø b√†o nh√¢n th·ª±c (c√≥ m√†ng nh√¢n) v√† t·∫ø b√†o nh√¢n s∆° (kh√¥ng c√≥ m√†ng nh√¢n). T·∫ø b√†o th·ª±c v·∫≠t c√≥ th√™m th√†nh t·∫ø b√†o v√† l·ª•c l·∫°p.",
            
            "enzyme": "Enzyme l√† protein c√≥ ch·ª©c nƒÉng x√∫c t√°c sinh h·ªçc. ƒê·∫∑c ƒëi·ªÉm: ƒë·∫∑c hi·ªáu cao, hi·ªáu qu·∫£ cao, b·ªã ·∫£nh h∆∞·ªüng b·ªüi nhi·ªát ƒë·ªô v√† pH. C∆° ch·∫ø: enzyme + c∆° ch·∫•t ‚Üí ph·ª©c h·ª£p enzyme-c∆° ch·∫•t ‚Üí s·∫£n ph·∫©m + enzyme.",
            
            "quang h·ª£p": "Quang h·ª£p l√† qu√° tr√¨nh chuy·ªÉn h√≥a CO2 v√† H2O th√†nh glucose nh·ªù √°nh s√°ng v√† di·ªáp l·ª•c. G·ªìm 2 pha:\n- Pha s√°ng: t√°ch H2O, t·∫°o ATP v√† NADPH\n- Pha t·ªëi: c·ªë ƒë·ªãnh CO2 th√†nh glucose theo chu tr√¨nh Calvin\n√ù nghƒ©a: t·∫°o O2, th·ª©c ƒÉn cho sinh v·∫≠t.",
            
            "h√¥ h·∫•p": "H√¥ h·∫•p t·∫ø b√†o l√† qu√° tr√¨nh ph√¢n gi·∫£i glucose ƒë·ªÉ t·∫°o ATP. G·ªìm 3 giai ƒëo·∫°n:\n1. ƒê∆∞·ªùng ph√¢n (cytoplasm): glucose ‚Üí pyruvat + 2ATP\n2. Chu tr√¨nh Krebs (ti th·ªÉ): pyruvat ‚Üí CO2 + NADH\n3. Chu·ªói truy·ªÅn electron: NADH ‚Üí ATP + H2O\nT·ªïng: 1 glucose ‚Üí 36-38 ATP",
            
            // L·ªõp 11: Di truy·ªÅn h·ªçc
            "nguy√™n ph√¢n": "Nguy√™n ph√¢n l√† qu√° tr√¨nh ph√¢n chia t·∫ø b√†o t·∫°o ra 2 t·∫ø b√†o con c√≥ b·ªô nhi·ªÖm s·∫Øc th·ªÉ gi·ªëng h·ªát t·∫ø b√†o m·∫π. G·ªìm c√°c pha: k·ª≥ ƒë·∫ßu, k·ª≥ gi·ªØa, k·ª≥ sau, k·ª≥ cu·ªëi. √ù nghƒ©a: tƒÉng s·ªë l∆∞·ª£ng t·∫ø b√†o, duy tr√¨ b·ªô NST ƒë·∫∑c tr∆∞ng c·ªßa lo√†i.",
            
            "gi·∫£m ph√¢n": "Gi·∫£m ph√¢n l√† qu√° tr√¨nh ph√¢n chia t·∫ø b√†o t·∫°o ra 4 giao t·ª≠ c√≥ b·ªô NST ƒë∆°n b·ªôi (n) t·ª´ t·∫ø b√†o sinh d·ª•c c√≥ b·ªô NST l∆∞·ª°ng b·ªôi (2n). G·ªìm 2 l·∫ßn ph√¢n chia li√™n ti·∫øp. √ù nghƒ©a: t·∫°o giao t·ª≠ cho sinh s·∫£n h·ªØu t√≠nh, t·∫°o bi·∫øn d·ªã t·ªï h·ª£p.",
            
            "mendel": "ƒê·ªãnh lu·∫≠t Mendel g·ªìm 3 ƒë·ªãnh lu·∫≠t c∆° b·∫£n:\n1. ƒê·ªãnh lu·∫≠t ph√¢n ly: M·ªói t√≠nh tr·∫°ng do m·ªôt c·∫∑p gen quy ƒë·ªãnh, c√°c alen ph√¢n ly ƒë·ªôc l·∫≠p trong gi·∫£m ph√¢n\n2. ƒê·ªãnh lu·∫≠t ph√¢n ly ƒë·ªôc l·∫≠p: C√°c c·∫∑p gen quy ƒë·ªãnh c√°c t√≠nh tr·∫°ng kh√°c nhau ph√¢n ly ƒë·ªôc l·∫≠p\n3. ƒê·ªãnh lu·∫≠t tr·ªôi l·∫∑n: Alen tr·ªôi che l·∫•p bi·ªÉu hi·ªán c·ªßa alen l·∫∑n",
            
            "adn": "ADN (Axit Deoxiribonucleic) l√† v·∫≠t ch·∫•t di truy·ªÅn ch√≠nh c·ªßa t·∫ø b√†o. C·∫•u tr√∫c: chu·ªói xo·∫Øn k√©p, m·ªói m·∫°ch g·ªìm c√°c nucleotid (A-T, G-C). Ch·ª©c nƒÉng: l∆∞u tr·ªØ th√¥ng tin di truy·ªÅn, t·ª± nh√¢n ƒë√¥i, ƒëi·ªÅu h√≤a ho·∫°t ƒë·ªông t·∫ø b√†o.",
            
            "arn": "ARN (Axit Ribonucleic) g·ªìm c√≥: mARN (truy·ªÅn th√¥ng tin), tARN (v·∫≠n chuy·ªÉn aa), rARN (c·∫•u tr√∫c ribosom). Kh√°c ADN: ƒë∆∞·ªùng ribose, c√≥ U thay T, m·∫°ch ƒë∆°n. Ch·ª©c nƒÉng: tham gia t·ªïng h·ª£p protein, ƒëi·ªÅu h√≤a gen.",
            
            "protein": "T·ªïng h·ª£p protein g·ªìm 2 giai ƒëo·∫°n:\n1. Phi√™n m√£: ADN ‚Üí mARN (trong nh√¢n)\n2. D·ªãch m√£: mARN ‚Üí protein (t·∫°i ribosom)\nC√°c b∆∞·ªõc: kh·ªüi ƒë·∫ßu, k√©o d√†i, k·∫øt th√∫c. M·ªói b·ªô ba m√£ h√≥a 1 axit amin.",
            
            // L·ªõp 12: Ti·∫øn h√≥a v√† sinh th√°i
            "ti·∫øn h√≥a": "Ti·∫øn h√≥a l√† qu√° tr√¨nh bi·∫øn ƒë·ªïi c·ªßa c√°c lo√†i sinh v·∫≠t qua th·ªùi gian. C∆° ch·∫ø ch√≠nh:\n- ƒê·ªôt bi·∫øn t·∫°o bi·∫øn d·ªã\n- Ch·ªçn l·ªçc t·ª± nhi√™n\n- Ph√¢n ly sinh h·ªçc\n- Di truy·ªÅn qua c√°c th·∫ø h·ªá\nB·∫±ng ch·ª©ng: h√¨nh th√°i, ph√¥i h·ªçc, sinh h√≥a, h√≥a th·∫°ch.",
            
            "darwin": "Thuy·∫øt ti·∫øn h√≥a Darwin: C√°c c√° th·ªÉ c√≥ nh·ªØng bi·∫øn d·ªã c√≥ l·ª£i s·∫Ω ƒë∆∞·ª£c ch·ªçn l·ªçc t·ª± nhi√™n ∆∞u ti√™n, sinh s·∫£n nhi·ªÅu h∆°n v√† truy·ªÅn c√°c t√≠nh tr·∫°ng c√≥ l·ª£i cho ƒë·ªùi sau. Qua nhi·ªÅu th·∫ø h·ªá, lo√†i s·∫Ω thay ƒë·ªïi theo h∆∞·ªõng th√≠ch nghi t·ªët h∆°n.",
            
            "sinh th√°i": "Sinh th√°i h·ªçc nghi√™n c·ª©u m·ªëi quan h·ªá gi·ªØa sinh v·∫≠t v·ªõi sinh v·∫≠t v√† v·ªõi m√¥i tr∆∞·ªùng. C√°c kh√°i ni·ªám c∆° b·∫£n: qu·∫ßn th·ªÉ, qu·∫ßn x√£, h·ªá sinh th√°i, chu·ªói th·ª©c ƒÉn, kim t·ª± th√°p sinh th√°i.",
            
            "h·ªá sinh th√°i": "H·ªá sinh th√°i bao g·ªìm t·∫•t c·∫£ sinh v·∫≠t s·ªëng v√† m√¥i tr∆∞·ªùng v√¥ sinh trong m·ªôt khu v·ª±c, c√≥ s·ª± trao ƒë·ªïi nƒÉng l∆∞·ª£ng v√† v·∫≠t ch·∫•t. C·∫•u tr√∫c: sinh v·∫≠t s·∫£n xu·∫•t, ti√™u th·ª• b·∫≠c 1, b·∫≠c 2... v√† sinh v·∫≠t ph√¢n gi·∫£i."
        };

        function findBestMatch(userInput) {
            const input = userInput.toLowerCase().trim();
            
            // T√¨m ki·∫øm tr·ª±c ti·∫øp
            for (let key in biologyKnowledge) {
                if (input.includes(key)) {
                    return biologyKnowledge[key];
                }
            }
            
            // T√¨m ki·∫øm t·ª´ kh√≥a li√™n quan cho t·∫•t c·∫£ c·∫•p ƒë·ªô
            
            // Ki·∫øn th·ª©c ti·ªÉu h·ªçc
            if (input.includes('c√¢y c·∫ßn g√¨') || input.includes('c√¢y s·ªëng')) {
                return biologyKnowledge['c√¢y'];
            }
            
            if (input.includes('ƒë·ªông v·∫≠t ƒÉn') || input.includes('th·ª©c ƒÉn ƒë·ªông v·∫≠t')) {
                return biologyKnowledge['ƒë·ªông v·∫≠t'] + '\n\n' + biologyKnowledge['dinh d∆∞·ª°ng'];
            }
            
            if (input.includes('c∆° th·ªÉ ng∆∞·ªùi') || input.includes('b·ªô ph·∫≠n c∆° th·ªÉ') || input.includes('5 gi√°c quan')) {
                return biologyKnowledge['c∆° th·ªÉ'];
            }
            
            if (input.includes('b·∫£o v·ªá') && input.includes('m√¥i tr∆∞·ªùng')) {
                return biologyKnowledge['b·∫£o v·ªá m√¥i tr∆∞·ªùng'];
            }
            
            // Ki·∫øn th·ª©c THCS
            if (input.includes('h·ªá tu·∫ßn ho√†n') || input.includes('tim') || input.includes('m√°u')) {
                return biologyKnowledge['tu·∫ßn ho√†n'];
            }
            
            if (input.includes('ti√™u h√≥a') || input.includes('d·∫° d√†y') || input.includes('ru·ªôt')) {
                return biologyKnowledge['ti√™u h√≥a'];
            }
            
            if (input.includes('h√¥ h·∫•p') && !input.includes('t·∫ø b√†o')) {
                return biologyKnowledge['h√¥ h·∫•p'];
            }
            
            if (input.includes('b√†i ti·∫øt') || input.includes('th·∫≠n') || input.includes('n∆∞·ªõc ti·ªÉu')) {
                return biologyKnowledge['b√†i ti·∫øt'];
            }
            
            if (input.includes('sinh s·∫£n') && input.includes('th·ª±c v·∫≠t')) {
                return biologyKnowledge['hoa'] + '\n\n' + biologyKnowledge['sinh s·∫£n'];
            }
            
            // Ki·∫øn th·ª©c THPT
            if (input.includes('ph√¢n b√†o') || input.includes('ph√¢n chia t·∫ø b√†o')) {
                return biologyKnowledge['nguy√™n ph√¢n'] + '\n\n' + biologyKnowledge['gi·∫£m ph√¢n'];
            }
            
            if (input.includes('di truy·ªÅn') || input.includes('gen') || input.includes('t√≠nh tr·∫°ng')) {
                return biologyKnowledge['mendel'];
            }
            
            if (input.includes('protein') || input.includes('t·ªïng h·ª£p')) {
                return biologyKnowledge['protein'];
            }
            
            if (input.includes('enzyme') || input.includes('x√∫c t√°c')) {
                return biologyKnowledge['enzyme'];
            }
            
            // T√¨m ki·∫øm theo c·∫•p ƒë·ªô h·ªçc
            if (input.includes('ti·ªÉu h·ªçc') || input.includes('l·ªõp 1') || input.includes('l·ªõp 2') || input.includes('l·ªõp 3') || input.includes('l·ªõp 4') || input.includes('l·ªõp 5')) {
                return "Ki·∫øn th·ª©c sinh h·ªçc ti·ªÉu h·ªçc bao g·ªìm:\n‚Ä¢ Nh·∫≠n bi·∫øt c√¢y c·ªëi, ƒë·ªông v·∫≠t\n‚Ä¢ 5 gi√°c quan c·ªßa con ng∆∞·ªùi\n‚Ä¢ Chu·ªói th·ª©c ƒÉn c∆° b·∫£n\n‚Ä¢ B·∫£o v·ªá m√¥i tr∆∞·ªùng\n‚Ä¢ Sinh s·∫£n c·ªßa sinh v·∫≠t\n\nB·∫°n c√≥ th·ªÉ h·ªèi c·ª• th·ªÉ v·ªÅ ch·ªß ƒë·ªÅ n√†o nh√©!";
            }
            
            if (input.includes('trung h·ªçc c∆° s·ªü') || input.includes('thcs') || (input.includes('l·ªõp') && (input.includes('6') || input.includes('7') || input.includes('8') || input.includes('9')))) {
                return "Ki·∫øn th·ª©c sinh h·ªçc THCS bao g·ªìm:\n‚Ä¢ C·∫•u t·∫°o t·∫ø b√†o c∆° b·∫£n\n‚Ä¢ C√°c c∆° quan th·ª±c v·∫≠t (r·ªÖ, th√¢n, l√°, hoa)\n‚Ä¢ C√°c h·ªá c∆° quan ƒë·ªông v·∫≠t (ti√™u h√≥a, tu·∫ßn ho√†n, h√¥ h·∫•p, b√†i ti·∫øt)\n‚Ä¢ Sinh th√°i h·ªçc c∆° b·∫£n\n\nB·∫°n mu·ªën t√¨m hi·ªÉu ch·ªß ƒë·ªÅ n√†o?";
            }
            
            if (input.includes('trung h·ªçc ph·ªï th√¥ng') || input.includes('thpt') || (input.includes('l·ªõp') && (input.includes('10') || input.includes('11') || input.includes('12')))) {
                return "Ki·∫øn th·ª©c sinh h·ªçc THPT bao g·ªìm:\n‚Ä¢ T·∫ø b√†o h·ªçc v√† sinh l√Ω t·∫ø b√†o\n‚Ä¢ Di truy·ªÅn h·ªçc v√† ƒë·ªãnh lu·∫≠t Mendel\n‚Ä¢ ADN, ARN v√† t·ªïng h·ª£p protein\n‚Ä¢ Ti·∫øn h√≥a v√† ch·ªçn l·ªçc t·ª± nhi√™n\n‚Ä¢ Sinh th√°i h·ªçc v√† h·ªá sinh th√°i\n\nB·∫°n quan t√¢m ƒë·∫øn ph·∫ßn n√†o?";
            }
            
            return null;
        }

        function addMessage(content, isUser = false) {
            const messagesContainer = document.getElementById('chatMessages');
            const welcomeMessage = messagesContainer.querySelector('.welcome-message');
            
            if (welcomeMessage) {
                welcomeMessage.style.display = 'none';
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = content.replace(/\n/g, '<br>');
            
            messageDiv.appendChild(contentDiv);
            messagesContainer.insertBefore(messageDiv, document.getElementById('typingIndicator'));
            
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTyping() {
            const typingIndicator = document.getElementById('typingIndicator');
            typingIndicator.style.display = 'block';
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTyping() {
            const typingIndicator = document.getElementById('typingIndicator');
            typingIndicator.style.display = 'none';
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            addMessage(message, true);
            input.value = '';
            
            showTyping();
            
            setTimeout(() => {
                hideTyping();
                const response = findBestMatch(message);
                
                if (response) {
                    addMessage(response);
                } else {
                    addMessage(`T√¥i hi·ªÉu b·∫°n mu·ªën h·ªèi v·ªÅ "${message}". Tuy nhi√™n, t√¥i ch·ªâ c√≥ th·ªÉ gi√∫p b·∫°n v·ªõi c√°c ch·ªß ƒë·ªÅ sinh h·ªçc c∆° b·∫£n nh∆∞: t·∫ø b√†o h·ªçc, di truy·ªÅn h·ªçc, sinh l√Ω th·ª±c ƒë·ªông v·∫≠t, sinh h·ªçc t·ªïng h·ª£p, ti·∫øn h√≥a, sinh th√°i h·ªçc. 

B·∫°n c√≥ th·ªÉ h·ªèi l·∫°i v·ªõi t·ª´ kh√≥a c·ª• th·ªÉ h∆°n nh∆∞: "nguy√™n ph√¢n", "ƒë·ªãnh lu·∫≠t Mendel", "quang h·ª£p", "ADN", "ti·∫øn h√≥a", "c·∫•u t·∫°o t·∫ø b√†o", "b·∫£o v·ªá m√¥i tr∆∞·ªùng", "sinh v·∫≠t", "th·ª±c v·∫≠t"... 

Ho·∫∑c s·ª≠ d·ª•ng c√°c g·ª£i √Ω ·ªü tr√™n ƒë·ªÉ kh√°m ph√° ki·∫øn th·ª©c sinh h·ªçc! üß¨`);
                }
            }, 1000 + Math.random() * 1000);
        }

        function askQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Focus v√†o input khi trang load
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('chatInput').focus();
        });
    </script>
</body>
</html>